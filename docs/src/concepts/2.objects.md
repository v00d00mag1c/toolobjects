### Objects

Object represents some kind of data that can be saved or received. It uses [pydantic](https://docs.pydantic.dev/latest/)'s [BaseModel](https://docs.pydantic.dev/latest/api/base_model/) that allows to serialize and validate values, and some mixins that adds functionality.

File is counted as object if it has `.py` extension and contains the class that extends something from `App.Objects.*` and has the same name as the file has. If it does not extends - it still can be used, but it won't be listed.

Object files should be logically divided by directories and names. The default (app's objects) located in `src/tool`.

#### Properties

Because the object is pydantic's `BaseModel`, all its rules applies to it.

To define a field, you should write an annotation and equal it to Field:

```python
from App.Objects.Object import Object
from pydantic import Field
from typing import Any

class Example(Object):
    field: Any = Field(default = None)
```

If the field is private, it should start from underscore and not be a Field:

```python
    _item = None
```

If the field should be excluded by default:

```python
    field: Any = Field(default = None, exclude = True)
```

If the field belongs to the class:

```python
from typing import ClassVar, Any

class Example(Object):
    field: ClassVar[Any] = None
```

`to_json()` is used for json serialization and `model_validate()` used for validation from json (or `model_validate_override()` if it specified in class).

#### ObjectMeta

Object inherits from app's [BaseModel](../objects/App.Objects.Mixins.BaseModel.md) and [Model](../objects/App.Objects.Mixins.Model.md) (they are separated to avoid circular imports at startup). 

`Model` provides custom validation functions, `BaseModel` adds `obj` and `local_obj`. 

`obj` contains "objective" information about something â€” information that sets by scripts and that should not be changed, for example, original name, declared date of creation, source. 

`local_obj` contains "subjective" information about something that does not related to the object, not set in scripts and should be set by user. If the `name` exists in `obj` and `local_obj`, the name from `local_obj` will be shown, but the name from `obj` will not disappear and will be like an "internal" name.

The object name is saved to `obj.saved_via.object_name`, and this field may be used to recover model from json format. `local_obj` has `saved_via` list that also can contain object names, but they will not affect anything.

`local_obj.public` defines the unlistedness of the object in the search.

#### Hooks

Allows to define events and add callback functions on them. May be used only in internal classes and it's better to not use them. Hooks can be applied only on class instance. Hooks runs on `trigger(event_name)` function (async hooks are launched on separate thread).

#### Submodules

[Submodules](../objects/App.Objects.Relations.Submodule.md) are used to create a relation between objects. It contains `item` - link to the class, and `role` - description of this relation. Submodules list is created from the current and all the inherited classes.

[<](1.overview.md) [>](3.links.md)
