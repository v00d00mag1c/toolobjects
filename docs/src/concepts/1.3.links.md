### Links

Links allows to create relation between object instances. It can contain [data](../objects/App.Objects.Relations.LinkData.md) about self. Links have "roles" that allows to differentiate them.

Link can be done with `link()` function that returns the [link object](../objects/App.Objects.Relations.Link.md). Link can be removed via `unlink()`, but this is unstable.

```python
from Books.Book import Book

class BookLibrary(Object):
    def add(self, book: Book):
        self.link(book, role = ['list_item'])
```

Before the item will be saved somewhere, links are stored locally in `local_obj.links`. Links can be obtained with `getLinkedItems()` function.

<!--![links](../../assets/images/links.jpg)-->

### Link field insertion

Let's assume that you need to reference another object in the object data or move some information to another object. It can be done with [LinkInsertion](../objects/App.Objects.Relations.Link.md). It references on another link, not an object.

Only field that annotated manually can be used as LinkInsertion:

```python
from App.Objects.Relations.LinkInsertion import LinkInsertion
from Books.Cover import Cover

class Book(Object):
    # name is in obj.name
    author: str = Field(default = None)
    cover: Cover | LinkInsertion = Field(default = None)

    def set_cover(self, cover: Cover):
        self.cover = self.link(cover, role = ['object', 'thumbnail']).toInsert()
```

<!--
Specific object field can be passed in `field`:

```
        self.cover = self.link(cover, role = ['object', 'thumbnail']).toInsert(field = ['url'])
```-->

LinkInsertions are unwrapped during serialization. But also there is a problem in code that field can have two types now - LinkInsertion and what it was supposed to have. To get a correct value, there is "_get()" shortcut:

```python
class Book(Object):
    def get_cover_url(self) -> str:
        return self._get('cover').get_url()
```

### Link order

DB can assign an order to the link according to the common count of links from that object. It can be changed.

### Dynamic links

Function `_get_virtual_linked()` can be overriden and return custom links.

[<](1.2.objects.md) [>](1.4.executables.md)
